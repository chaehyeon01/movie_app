(this.webpackJsonpmovie_boxoffice=this.webpackJsonpmovie_boxoffice||[]).push([[0],{19:function(e,a,t){e.exports=t.p+"static/media/new.85888806.svg"},20:function(e,a,t){e.exports=t.p+"static/media/up.cf4223ac.svg"},21:function(e,a,t){e.exports=t.p+"static/media/down.2f9676c9.svg"},22:function(e,a,t){e.exports=t(47)},27:function(e,a,t){},29:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(18),c=t.n(o),i=(t(27),t(2)),s=t.n(i),m=t(4),l=t(5),v=t(6),d=t(8),u=t(7),f=(t(29),t(3)),p=t.n(f),g=t(19),h=t.n(g),w=t(20),b=t.n(w),k=t(21),N=t.n(k);var E=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={moviePosterSrc:"",movieTitle:"",mvGrade:"",mvUserRating:"",date:"",mvInfoText:"",mvGenres:[],mvDirector:[],rankOldAndNew:"",rankInten:"",upIcon:""},e.getMoviePoster=Object(m.a)(s.a.mark((function a(){var t,n,r,o,c,i,m,l,v,d,u,f;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props.movieTitle,n=e.props.movieGrage,r=e.props.date,o=e.props.mvCode,c=e.props.rankOldAndNew,i=e.props.rankInten,"194b4125636da8f986cadff856f51a17",a.next=9,p.a.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:"194b4125636da8f986cadff856f51a17",language:"ko",query:t,page:"1",include_adult:!0}});case 9:return m=a.sent,"88e5912e2bfb079238ca7936c0322922",a.next=13,p.a.get("https://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieInfo.json",{params:{key:"88e5912e2bfb079238ca7936c0322922",movieCd:o}});case 13:for(f in l=a.sent,v=l.data.movieInfoResult.movieInfo.directors[0],d=[],u=0,v)u++,d[u]=v[f];e.setState({moviePosterSrc:m.data.results[0].poster_path,movieTitle:t,mvGrade:n,mvUserRating:m.data.results[0].vote_average,date:r,mvInfoText:m.data.results[0].overview,mvGenres:l.data.movieInfoResult.movieInfo.genres,mvDirector:d,rankOldAndNew:c,rankInten:i});case 19:case"end":return a.stop()}}),a)}))),e}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getMoviePoster()}},{key:"render",value:function(){var e=this.state,a=e.moviePosterSrc,t=e.movieTitle,n=e.mvGrade,o=e.mvUserRating,c=e.date,i=e.mvInfoText,s=e.mvGenres,m=e.mvDirector,l=e.rankOldAndNew,v=e.rankInten,d=function(e){return Number(e)>0?r.a.createElement("img",{className:"updownIcon",src:b.a,alt:"up"}):Number(e)<0?r.a.createElement("img",{className:"updownIcon",src:N.a,alt:"down"}):r.a.createElement("span",{className:"updownIconNone"},"-")}(v);return r.a.createElement("div",{className:"movieData"},r.a.createElement("img",{className:"mvPoster",src:"https://image.tmdb.org/t/p/original"+a,alt:"\uc601\ud654"}),r.a.createElement("div",{className:"movieInnerData"},"NEW"===l?r.a.createElement("img",{className:"newIcon",src:h.a,alt:"new"}):r.a.createElement("p",{className:"OLD"}),r.a.createElement("h4",{className:"moveiGrade"},n,"\uc704"),d,r.a.createElement("span",null,v),r.a.createElement("h5",{className:"movieGenre"}," ",s.map((function(e){return e.genreNm+" "}))),r.a.createElement("h3",{className:"movieTitle"},t),r.a.createElement("h2",{className:"movieRating"},o),r.a.createElement("h5",{className:"movieYear"}," \uac1c\ubd09 \uc77c\uc790 | ",c),r.a.createElement("h5",{className:"movieDirector"},"\uac10 \ub3c5 | ",m.map((function(e){return e}))),r.a.createElement("h5",{className:"movieText"}," ",i.slice(0,150),"...")))}}]),t}(n.Component);var I=function(e){var a=e.title,t=e.grade,n=e.date,o=e.mvCode,c=e.rankOldAndNew,i=e.rankInten;return console.log(a),r.a.createElement("div",{className:"movie"},r.a.createElement(E,{movieTitle:a,rankInten:i,rankOldAndNew:c,date:n,mvCode:o,movieGrage:t}))};var O=function(e){var a=e.movieboxofficeDate;return r.a.createElement("header",null,r.a.createElement("h1",null,"Movie \ubc15\uc2a4\uc624\ud53c\uc2a4",r.a.createElement("span",null,a.slice(0,8))))},x=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={isLoding:!0,movies:[],date:""},e.getMovies=Object(m.a)(s.a.mark((function a(){var t,n,r,o,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"88e5912e2bfb079238ca7936c0322922",t=[],n="",r=new Date,o=new Date(r.setDate(r.getDate()-1)),o=(o=String(o.toISOString().substring(0,10))).replace(/-/gi,""),console.log(o),c=o,a.next=11,p.a.get("https://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json",{params:{key:"88e5912e2bfb079238ca7936c0322922",targetDt:c}}).then((function(e){t=e.data.boxOfficeResult.dailyBoxOfficeList,console.log(t),n=e.data.boxOfficeResult.showRange})).catch((function(e){console.log(e)}));case 11:e.setState({movies:t,isLoding:!1,date:n});case 12:case"end":return a.stop()}}),a)}))),e}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this.state,a=e.isLoding,t=e.movies,n=e.date;return r.a.createElement("div",{className:"container"},r.a.createElement(O,{movieboxofficeDate:n}),a?r.a.createElement("div",{className:"loader"},r.a.createElement("span",{className:"loader_text"},"Loading.....")):r.a.createElement("div",{className:"movies"},t.map((function(e){return r.a.createElement(I,{key:e.rank,rankInten:e.rankInten,rankOldAndNew:e.rankOldAndNew,date:e.openDt,mvCode:e.movieCd,title:e.movieNm,grade:e.rank})}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("wrap")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.384e90c0.chunk.js.map